{"ast":null,"code":"import axios from 'axios';\nimport { setAlert } from '../actions/alert';\nimport { GET_PROFILE, CREATE_PROFILE, UPDATE_PROFILE, PROFILE_ERROR } from './types'; // Get current users profile\n\nexport const loadProfile = () => async dispatch => {\n  try {\n    const res = await axios.get('http://localhost:5000/api/profile/me');\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n  } catch (err) {\n    console.log(err.response);\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Create and Update profile\n\nexport const createProfile = (formData, history, edit = false) => async dispatch => {\n  try {\n    const res = await axios.post('http://localhost:5000/api/profile', formData);\n    dispatch({\n      type: CREATE_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert(edit ? \"Profile update\" : \"Profile created\", 'success'));\n\n    if (!edit) {\n      history.push('/dashboard');\n    }\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log(errors);\n\n    if (errors) {\n      dispatch(setAlert(errors[0].msg, 'danger'));\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Add Experince\n\nexport const addExperience = (formData, history) => async dispatch => {\n  try {\n    const res = await axios.put('http://localhost:5000/api/profile/experience', formData);\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert(\"Experience added\", 'success'));\n    history.push('/dashboard');\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      dispatch(setAlert(errors[0].msg, 'danger'));\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Add Education\n\nexport const addEducation = (formData, history) => async dispatch => {\n  try {\n    const res = await axios.put('http://localhost:5000/api/profile/education', formData);\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert(\"Education added\", 'success'));\n    history.push('/dashboard');\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log(err.response);\n\n    if (errors) {\n      dispatch(setAlert(errors[0].msg, 'danger'));\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};","map":{"version":3,"sources":["D:/DevConnectors/client/src/actions/profile.js"],"names":["axios","setAlert","GET_PROFILE","CREATE_PROFILE","UPDATE_PROFILE","PROFILE_ERROR","loadProfile","dispatch","res","get","type","payload","data","err","console","log","response","msg","statusText","status","createProfile","formData","history","edit","post","push","errors","addExperience","put","addEducation"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {setAlert} from '../actions/alert'\r\nimport {\r\n   GET_PROFILE,\r\n   CREATE_PROFILE,\r\n   UPDATE_PROFILE,\r\n   PROFILE_ERROR\r\n} from './types';\r\n\r\n// Get current users profile\r\nexport const loadProfile = () => async dispatch => {\r\n    try{\r\n       const res = await axios.get('http://localhost:5000/api/profile/me')\r\n       dispatch({\r\n           type: GET_PROFILE,\r\n           payload: res.data\r\n       })\r\n    }\r\n    catch(err){\r\n        console.log(err.response)\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg : err.response.statusText, status:err.response.status}\r\n        });\r\n    }   \r\n\r\n}\r\n\r\n// Create and Update profile\r\n\r\nexport const createProfile = (formData, history , edit = false) => async dispatch => {\r\n    try{\r\n       const res = await axios.post('http://localhost:5000/api/profile',formData)\r\n       dispatch({\r\n           type: CREATE_PROFILE,\r\n           payload: res.data\r\n       })\r\n       dispatch(setAlert(edit ? \"Profile update\" : \"Profile created\",'success'))\r\n       if(!edit){\r\n           history.push('/dashboard')\r\n       }\r\n\r\n       \r\n    }\r\n    catch(err){\r\n        const errors = err.response.data.errors;\r\n        console.log(errors)\r\n        if(errors){\r\n        dispatch(setAlert(errors[0].msg,'danger'))\r\n        }\r\n\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg : err.response.statusText, status:err.response.status}\r\n        });\r\n    }   \r\n\r\n}\r\n\r\n// Add Experince\r\nexport const addExperience = (formData,history) => async dispatch => {\r\n    try{\r\n       const res = await axios.put('http://localhost:5000/api/profile/experience',formData)\r\n       dispatch({\r\n           type:UPDATE_PROFILE,\r\n           payload: res.data\r\n       })\r\n\r\n       dispatch(setAlert(\"Experience added\",'success'))\r\n        history.push('/dashboard')\r\n    \r\n    }\r\n    catch(err){\r\n        const errors = err.response.data.errors;\r\n        \r\n        if(errors){\r\n        dispatch(setAlert(errors[0].msg,'danger'))\r\n        }\r\n\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg : err.response.statusText, status:err.response.status}\r\n        });\r\n    }   \r\n}\r\n\r\n// Add Education\r\nexport const addEducation = (formData,history) => async dispatch => {\r\n    try{\r\n       const res = await axios.put('http://localhost:5000/api/profile/education',formData)\r\n       dispatch({\r\n           type:UPDATE_PROFILE,\r\n           payload: res.data\r\n       })\r\n\r\n       dispatch(setAlert(\"Education added\",'success'))\r\n        history.push('/dashboard')\r\n    \r\n    }\r\n    catch(err){\r\n        const errors = err.response.data.errors;\r\n        console.log(err.response)\r\n        if(errors){\r\n        dispatch(setAlert(errors[0].msg,'danger'))\r\n        }\r\n\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg : err.response.statusText, status:err.response.status}\r\n        });\r\n    }   \r\n}"]},"metadata":{},"sourceType":"module"}